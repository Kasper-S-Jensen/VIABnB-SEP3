@page "/Administration"
@using SEP3BlazorT1Client.Models

<MatTabGroup>
    <MatTab Label="Hosts Requests">
        <ChildContent>
            @if (hostRequestList == null)
            {
                <p>Nothing to show</p>
            }
            else
            {
                <MatAccordion Multi="true">
                    @foreach (var h in hostRequestList)
                    {
                        <EditForm Model="@h" OnValidSubmit="@(() => ValidateHost(@h.Id))">
                            <DataAnnotationsValidator/>
                            <ValidationSummary/>
                            <MatExpansionPanel>
                                <MatExpansionPanelSummary>
                                    <MatExpansionPanelHeader>
                                        <p>@h.Id</p></MatExpansionPanelHeader>
                                </MatExpansionPanelSummary>
                                <MatExpansionPanelDetails>
                                    <div class="form-group">
                                        <p>Host ID: @h.Id</p></div>
                                    <div class="form-group">
                                        <p>First Nmae: @h.FirstName</p></div>
                                    <div class="form-group">
                                        <p>Last Name: @h.LastName</p></div>
                                    <div class="form-group">
                                        <p>Phone Number: @h.PhoneNumber</p></div>
                                    <div class="form-group">
                                        <p>E-mail Address: @h.Email</p></div>
                                    <div class="form-group">
                                        <p>CPR-Number: @h.Cpr</p></div>
                                    <div class="form-group">
                                        <form>
                                            <select name="Status">
                                                <option value="">Waiting</option>
                                                <option value="@false" bind-value="@h.IsApprovedHost">Don't Aapprove</option>
                                                <option value="@true" bind-value="@h.IsApprovedHost">Approved</option>
                                            </select>
                                        </form>
                                    </div>
                                    <div class="form-group">
                                        <button type="submit">Validate</button>
                                    </div>
                                </MatExpansionPanelDetails>
                            </MatExpansionPanel>
                        </EditForm>
                    }
                </MatAccordion>
            }
        </ChildContent>
    </MatTab>
    @*<MatTab Label="Guests Requests">
        <ChildContent>
            @foreach (var g in guestRequestList)
            {
                <MatAccordion>
                    <MatExpansionPanel @bind-Expanded="@panelOpenState">
                        <MatExpansionPanelSummary>
                            <MatExpansionPanelHeader><p>@g.StudentNumber</p></MatExpansionPanelHeader>
                        </MatExpansionPanelSummary>
                        <MatExpansionPanelDetails>
                            <div class="form-group"><p>@g.Id</p></div>
                            <div class="form-group"><p>@g.StudentNumber</p></div>
                            <div class="form-group">
                                <p>Host:</p>
                                <br/>
                                <p>@g.Host.Id</p>
                                <p>@g.Host.FirstName</p>
                                <p>@g.Host.LastName</p>
                                <p>@g.Host.PhoneNumber</p>
                                <p>@g.Host.Email</p>
                                <p>@g.Host.Password</p>
                                <p>@g.Host.HostReviews</p>
                                <p>@g.Host.ProfileImageUrl</p>
                                <p>@g.Host.IsApprovedHost</p>
                            </div>
                            <div class="form-group"><p>@g.StudentIdImage</p></div>
                            <EditForm Model="@g" OnValidSubmit="@ValidateGuest">
                                <DataAnnotationsValidator/>
                                <ValidationSummary/>
                                <div class="form-group">
                                    <p>@g.Status</p>
                                    <form>
                                        <select name="Status">
                                            <option value="@RequestStatus.NotAnswered">Not Answered</option>
                                            <option value="@RequestStatus.NotApproved">Not Approved</option>
                                            <option value="@RequestStatus.Approved">Approved</option>
                                        </select>
                                    </form>
                                </div>
                            </EditForm>
                        </MatExpansionPanelDetails>
                    </MatExpansionPanel>
                </MatAccordion>
            }
        </ChildContent>
    </MatTab>*@
</MatTabGroup>